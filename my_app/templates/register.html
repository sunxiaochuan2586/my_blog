{% extends "base.html" %}

{# ▼▼▼ 核心修改：重写 page_wrapper 块，不再使用两栏布局 ▼▼▼ #}
{% block page_wrapper %}
<div class="auth-page-wrapper">
    <h1>立即加入</h1>

    <form method="POST" action="">
        {{ form.hidden_tag() }}
        <fieldset>
            <div class="form-group">
                {{ form.username.label(class="form-label") }}
                {{ form.username(placeholder="请输入 2-20 个字符") }}
                {% if form.username.errors %}<div class="error-message-group"><i
                        class="fas fa-exclamation-circle"></i><span>{% for error in form.username.errors %}{{ error }}{%
                        endfor %}</span></div>{% endif %}
            </div>

            <div class="form-group">
                {{ form.email.label(class="form-label") }}
                {{ form.email(placeholder="请输入有效的邮箱地址") }}
                {% if form.email.errors %}<div class="error-message-group"><i
                        class="fas fa-exclamation-circle"></i><span>{% for error in form.email.errors %}{{ error }}{%
                        endfor %}</span></div>{% endif %}
            </div>

            <div class="form-group">
                {{ form.password.label(class="form-label") }}
                <div class="password-wrapper">
                    {{ form.password(placeholder="请输入密码") }}
                    <button type="button" class="password-toggle"><i class="fas fa-eye"></i></button>
                </div>
                {% if form.password.errors %}<div class="error-message-group"><i
                        class="fas fa-exclamation-circle"></i><span>{% for error in form.password.errors %}{{ error }}{%
                        endfor %}</span></div>{% endif %}
            </div>

            <div class="form-group">
                {{ form.confirm_password.label(class="form-label") }}
                <div class="password-wrapper">
                    {{ form.confirm_password(placeholder="请再次输入密码") }}
                    <button type="button" class="password-toggle"><i class="fas fa-eye"></i></button>
                </div>
                {% if form.confirm_password.errors %}<div class="error-message-group"><i
                        class="fas fa-exclamation-circle"></i><span>{% for error in form.confirm_password.errors %}{{
                        error }}{% endfor %}</span></div>{% endif %}
            </div>

            <div class="form-group">
                {{ form.submit(class="button", value="注册") }}
            </div>
        </fieldset>
    </form>

    <div class="auth-switch-link">
        <small>已经有账户了？ <a href="{{ url_for('routes.login') }}">立即登录</a></small>
    </div>
</div>
{% endblock page_wrapper %}